# 面向对象基础

Object-Oriented Programming，区别于面向过程，强调的是通过调用对象的行为来实现功能，而不是自己一步一步去操作实现。



## 特点

* 将复杂的事情简单化，将我们从操作者变成了指挥者。面向对象对象的语言中，包含了三大基本特征：封装、继承、多态。

### 封装

封装就是将一些细节信息隐藏起来，对于外界不可见。

1. 方法就是一种封装。
2. 关键字private也是一种封装。
   * [private关键字的作用及使用](./private关键字.md)



## this关键字

* 当方法的局部变量和类的成员变量重名的时候，根据“就近原则”，优先使用局部变量。
* 如果需要访问本类中的成员变量，需要使用格式`this.成员变量名`



## 类和对象的关系

通常情况下，一个类不能直接使用，需要根据类创建一个对象，才能使用。

### 类的定义

* 类（class）相当于蓝图，由`成员变量`和`成员方法`组成。

  * 成员变量是引用变量，与局部变量不同，它有默认值。

  ```java
  // 定义一个类，模拟一个“学生”事物
  class Student {
      
      // 成员变量（属性）
      // 注意：此时的变量不是局部变量，它直接写在类当中，在方法外，而不是方法中。
      String name; // 姓名
      int grade; // 年级
      
      // 成员方法（行为）
      // 注意：成员方法不要写static关键字。
      public void study(){
          System.out.println("学习");
      }
  
  }
  ```

  * [定义一个标准的类](./一个标准的类.md)
  
  

### 对象的创建及其使用

1. 导包

   也就是指出需要使用的类在什么位置

   ```java
   // 格式
   import 包名称.类名称；
   // 注意：对于和当前类属于同一个包的情况，可以省略不写
   ```

2. 创建对象

   ```java
   // 格式
   类名称 对象名 = new 类名称();
   City bj = new City();
   ```

3. 使用

   1. 使用成员变量：

      ```java
      // 格式
      对象名.成员变量名
      ```

   2. 使用成员方法：

      ```java
      // 格式
      对象名.成员方法名()
      ```



## 方法

* 方法可以让外部代码安全地访问实例字段；
* 方法是一组执行语句，并且可以执行任意逻辑；
* 方法内部遇到return时返回，void表示不返回任何值（注意和返回null不同）；
* 外部代码通过public方法操作实例，内部代码可以调用private方法；
* 理解方法的参数绑定。

[定义方法的格式](./方法.md)




## 构造方法

* 构造方法是专门用来创建对象的方法，当我们用关键字new来创建对象时，其实就是在调用构造方法。

  * ```java
    // 格式
    pubic 类名称 (参数类型 参数名称){
        方法体
    }
    // 注意：1.构造方法的名称必须和所在类名称完全一样；2.构造方法不要写返回值类型，连void都不写。
    ```

  

  * 实例在创建时通过`new`操作符会调用其对应的构造方法，构造方法用于初始化实例；

* 没有定义构造方法时，编译器会自动创建一个默认的无参数构造方法；

* 可以定义多个构造方法，编译器根据参数自动判断；

* 可以在一个构造方法内部调用另一个构造方法，便于代码复用。



## 方法重载

* 方法重载(Overload)是指多个方法的方法名相同，但各自的参数不同；
  * 只需要记一个方法名，就可以实现类似的多个功能，调用更简单。
* 重载方法应该完成类似的功能，参考`String`的`indexOf()`；
* 重载方法返回值类型应该相同。



## 继承

* 继承是面向对象编程的一种强大的代码复用方式；
* Java只允许单继承，所有类最终的根类是`Object`；
* `protected`允许子类访问父类的字段和方法；
* 子类的构造方法可以通过`super()`调用父类的构造方法；
* 可以安全地向上转型为更抽象的类型；
  * 把一个子类类型安全地变为父类类型的赋值，被称为向上转型（upcasting）。
* 可以强制向下转型，最好借助`instanceof`判断；
* 子类和父类的关系是is，has关系不能用继承。



## 多态

* 子类可以覆写父类的方法（Override），覆写在子类中改变了父类方法的行为；
  * 在继承关系中，子类如果定义了一个与父类方法签名完全相同的方法，被称为覆写。
  * 加上`@Override`可以让编译器帮助检查是否进行了正确的覆写。
* Java的方法调用总是作用于运行期对象的实际类型，这种行为称为多态；
  * 多态具有一个非常强大的功能，就是允许添加更多类型的子类实现功能扩展，却不需要修改基于父类的代码。
* `final`修饰符有多种作用：
  - `final`修饰的方法可以阻止被覆写；
  - `final`修饰的class可以阻止被继承；
  - `final`修饰的field必须在创建对象时初始化，随后不可修改。



## 抽象类

* 通过`abstract`定义的方法是抽象方法，它只有定义，没有实现。抽象方法定义了子类必须实现的接口规范；
* 定义了抽象方法的class必须被定义为抽象类，从抽象类继承的子类必须实现（即覆写）抽象方法；
* 如果不实现抽象方法，则该子类仍是一个抽象类；
* 面向抽象编程使得调用者只关心抽象方法的定义，不关心子类的具体实现